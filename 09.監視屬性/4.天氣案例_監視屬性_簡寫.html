<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>天氣案例_監視屬性_簡寫</title>
    <script type="text/javascript" src="../js/vue.js"></script>
</head>
<body>
    <!--
      -->
    <div id="root">
      <h2>今天天氣{{info}}</h2>
      <button @click="changeWeather">切換天氣</button>
      </div>
    <script type="text/javascript">
        const vm = new Vue({
          el: "#root",  
          data: {
            isHot: true,
            
          },
          computed: {
            info(){
              return this.isHot ? '很熱' : '涼涼'
            }
          },
          methods: {
            changeWeather(){
              this.isHot = !this.isHot
            }
          },
          watch: {
            //正常寫法
            /*isHot: {
              // immediate: false,  // 初始化時，讓handler調用
              // deep: false,  // 深度監視
              // handler 甚麼時候調用? 當isHot發生改變時
              handler(newValue, oldValue){
                console.log('isHot 修改', newValue, oldValue);
              }
            },*/
            //簡寫，配置項中只有handler時
            isHot(newValue, oldValue){
              console.log('isHot 修改', newValue, oldValue);
            }
          }
        })

        //正常寫法
        vm.$watch("isHot", {
          immediate: false,  // 初始化時，讓handler調用
          deep: false,  // 深度監視
          handler(newValue, oldValue){
            console.log('isHot 修改', newValue, oldValue);
          }
        })
        //簡寫
        vm.$watch("isHot", function(newValue, oldValue){
          console.log('isHot 修改', newValue, oldValue);
        })

       
    </script>
</body>
</html>